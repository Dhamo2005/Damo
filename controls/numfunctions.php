<?php function time_ago_in_php($timestamp){ date_default_timezone_set("Asia/Kolkata"); $time_ago=strtotime($timestamp); $current_time=time(); $time_difference=$current_time - $time_ago; $seconds=$time_difference; $minutes=round($seconds / 60); $hours=round($seconds / 3600); $days=round($seconds / 86400); $weeks=round($seconds / 604800); $months=round($seconds / 2629440); $years=round($seconds / 31553280); if ($seconds <=60){ return "Just Now";} else if ($minutes <=60){ if ($minutes==1){ return "1 min ago";} else{ return "$minutes minutes ago";}} else if ($hours <=24){ if ($hours==1){ return "1 hour ago";} else{ return "$hours hrs ago";}} else if ($days <=7){ if ($days==1){ return "yesterday";} else{ return "$days days ago";}} else if ($weeks <=4.3){ if ($weeks==1){ return "1 week ago";} else{ return "$weeks weeks ago";}} else if ($months <=12){ if ($months==1){ return "1 month ago";} else{ return "$months months ago";}} else{ if ($years==1){ return "one year ago";} else{ return "$years years ago";}}}function number_shorten($number, $precision=1, $divisors=null){ if (!isset($divisors)){ $divisors=array(pow(1000, 0)=>'', pow(1000, 1)=>'K', pow(1000, 2)=>'M', pow(1000, 3)=>'B', pow(1000, 4)=>'T', pow(1000, 5)=>'Qa', pow(1000, 6)=>'Qi',);} foreach ($divisors as $divisor=>$shorthand){ if (abs($number) < ($divisor * 1000)){ break;}} if ($number < 1000){ $precision=0;} return number_format($number / $divisor, $precision) . $shorthand;}function getper($likes, $dislikes, $total){ $v=round((($likes / $total) * 100 - (($dislikes / $total) * 100)), 0); if ($v >=0){ return $v;} else{ return 0;}}